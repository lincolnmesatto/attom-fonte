<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
 
 
<ui:composition template="/template/layoutBase.xhtml">


	<ui:define name="content">
 		<div class="card" style="margin-left: 15%; width: 30%; padding: 50px; margin-bottom: 500px; width: 75%; position: absolute">
   			 <h:form id="formChcklist">
   			 	<h3 class="card-title">Checklist</h3>
   			 	
   			 	<p:growl id="growl-mensagem" showDetail="true" sticky="true" /> 
   			 	
   			 	<p:commandButton action="#{checklistController.iniciarIncluir()}" value="Incluir"/>
   			 
			    <p:dataTable id="checklist" var="check" value="#{checklistController.listaChecklist}" rowKey="#{check.id}"
	                     selection="#{checklistController.checklistSelecionado}" selectionMode="single">
                     <p:column headerText="Titulo">
                		<h:outputText value="#{check.titulo}" />
            		 </p:column>
            		 <p:column headerText="Preco">
                		<h:outputText value="#{check.preco}"/>
            		 </p:column>
            		 <p:column headerText="Editora">
                		<h:outputText value="#{check.editora.nome}"/>
            		 </p:column>
            		 <p:column headerText="Remover">
		                <p:commandLink action="#{checklistController.removerChecklist(check.id)}" update="formChcklist" disabled="#{checklistController.habilitarExcluir(check)}">
		                	<i class="fa fa-fw fa-trash"/>
		                	<p:confirm header="Confirmação" message="Deseja realmente excluir o item?" icon="fa fa-fw fa-info-circle"/>
		                </p:commandLink>
		            </p:column>
	            </p:dataTable>
	            
	             <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
		            <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" />
		            <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no ui-button-flat"/>
		        </p:confirmDialog>
			</h:form>	
		</div>	 
	</ui:define>
 
</ui:composition>
</html>